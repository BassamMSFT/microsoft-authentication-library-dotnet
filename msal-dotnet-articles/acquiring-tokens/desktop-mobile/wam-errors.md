---
title: Errors associated with Web Account Manager (WAM)
description: "When building applications using MSAL.NET and the Web Account Manager (WAM), developers may run into issues. This article explains potential errors and mitigations."
ms.date: 08/30/2023
---

# Errors associated with Web Account Manager (WAM)

Generally, errors generated by the MSAL component that interacts with the Web Account Manager (WAM) are [automatically converted](https://github.com/AzureAD/microsoft-authentication-library-for-dotnet/blob/d25f45f7e356bd92986e412dd68b5d341343aa6a/src/client/Microsoft.Identity.Client/Platforms/Features/RuntimeBroker/WamAdapters.cs#L56) to an instance of <xref:Microsoft.Identity.Client.MsalException>. This enables developers to not worry about the internals and instead handle errors through idiomatic .NET constructs. However, for additional deep dives, developers will often need to investigate specific error messages.

The table below highlights some of the most common errors along with potential mititgation strategies.

>[!WARNING]
>Error codes and error messages are presented for reference only. We do not recommend manually implementing exception handling strategies based on these and instead use the standard <xref:Microsoft.Identity.Client.MsalException>-based approach.

| Error Code | Retry-able | Error message | Mitigation |
|:-----------|:-----------|:------------|:-----------|
| 0          | ❌ | Account credentials missing in WAM, and should be removed. | |
| 0          | ✅ | Account has previously been signed out of this application. | |
| 0          | ❌ | Account with id {ID} not found. | |
| 0          | ❌ | Authentication was blocked because a user switch was detected during authorization type 4. | |
| 2147943631 | ❌ | The network location cannot be reached. For information about network troubleshooting, see Windows Help. | |
| 2147943717 | ❌ | The specified account does not exist. | |
| 2148074254 | ❌ | No credentials are available in the security package | |
| 2156265477 | ❌ | Online Id account properties must be updated before signin. | |
| 2156265478 | ✅ | To help protect your Online Id account you must signin again. | |
| 2156265481 | ❌ | Online Id signin name is not yet verified. Email verification is required before signin. | |
| 2156265482 | ❌ | We have noticed some unusual activity in your Online Id account. Your action is needed to make sure no one else is using your account. | |
| 2156265483 | ❌ | We detected some suspicious activity with your Online Id account. To help protect you, we've temporarily blocked your account. | |
| 2156265484 | ✅ | User interaction is required for authentication. | When authenticating the user, WAM could not use a cached token. User needs to be prompted for authentication via <xref:Microsoft.Identity.Client.PublicClientApplication.AcquireTokenInteractive*>. |
| 3399548929 | ✅ | Need user interaction to continue. | |
| 3399614467 | ❌ | V2Error: invalid_grant AADSTS500341: The user account {ID} has been deleted from the {TENANT_ID} directory. To sign into this application, the account must be added to the directory.| |
| 3399614476 | ❌ | V2Error: invalid_grant AADSTS50078: Presented multi-factor authentication has expired due to policies configured by your administrator, you must refresh your multi-factor authentication to access {API_TARGET}. | |

## Unlisted errors

Because WAM is a relatively new component, when errors occur we recommend logging data from [`AdditionalExceptionData`](xref:Microsoft.Identity.Client.MsalException.AdditionalExceptionData*) and [logging a bug](https://github.com/AzureAD/microsoft-authentication-library-for-dotnet/issues). We will document the issue as soon as possible.
