### YamlMime:NetMember
type: method
members:
- typeParameters:
  - description: Generic input type.
    name: TInput
  - description: Generic output type.
    name: TOutput
  returnsWithMoniker:
    type:
    - value: <xref href="System.Threading.Tasks.Task`1?alt=System.Threading.Tasks.Task&text=Task" data-throw-if-not-resolved="True"/>&lt;TOutput&gt;
    description: The value returned by the downstream web API.
  parameters:
  - namesWithMoniker:
    - value: serviceName
    description: >-
      Name of the service describing the downstream REST API. There can
                  be several configuration named sections mapped to a <xref data-throw-if-not-resolved="true" uid="Microsoft.Identity.Abstractions.DownstreamRestApiOptions"></xref>,
                  each for one downstream REST API. You can pass-in null, but in that case <code data-dev-comment-type="paramref">downstreamRestApiOptionsOverride</code>
                  needs to be set.
    type: <xref href="System.String?alt=System.String&text=String" data-throw-if-not-resolved="True"/>
  - namesWithMoniker:
    - value: input
    description: Data sent to the downstream web API, through the body or the HTTP request.
    type: TInput
  - namesWithMoniker:
    - value: downstreamRestApiOptionsOverride
    description: >-
      [Optional] Overrides the options proposed in the configuration described
                  by <code data-dev-comment-type="paramref">serviceName</code>.
    type: <xref href="System.Action`1?alt=System.Action&text=Action" data-throw-if-not-resolved="True"/>&lt;<xref href="Microsoft.Identity.Abstractions.DownstreamRestApiOptionsReadOnlyHttpMethod?alt=Microsoft.Identity.Abstractions.DownstreamRestApiOptionsReadOnlyHttpMethod&text=DownstreamRestApiOptionsReadOnlyHttpMethod" data-throw-if-not-resolved="True"/>&gt;
  - namesWithMoniker:
    - value: user
    description: >-
      [Optional] Claims representing a user. This is useful in platforms like Blazor
                  or Azure Signal R, where the HttpContext is not available. In other platforms, the library
                  will find the user from the HttpContext.
    type: <xref href="System.Security.Claims.ClaimsPrincipal?alt=System.Security.Claims.ClaimsPrincipal&text=ClaimsPrincipal" data-throw-if-not-resolved="True"/>
  - namesWithMoniker:
    - value: cancellationToken
    type: <xref href="System.Threading.CancellationToken?alt=System.Threading.CancellationToken&text=CancellationToken" data-throw-if-not-resolved="True"/>
  type: method
  uid: Microsoft.Identity.Abstractions.IDownstreamRestApi.GetForUserAsync``2(System.String,``0,System.Action{Microsoft.Identity.Abstractions.DownstreamRestApiOptionsReadOnlyHttpMethod},System.Security.Claims.ClaimsPrincipal,System.Threading.CancellationToken)
  commentId: M:Microsoft.Identity.Abstractions.IDownstreamRestApi.GetForUserAsync``2(System.String,``0,System.Action{Microsoft.Identity.Abstractions.DownstreamRestApiOptionsReadOnlyHttpMethod},System.Security.Claims.ClaimsPrincipal,System.Threading.CancellationToken)
  name: GetForUserAsync<TInput,TOutput>(String, TInput, Action<DownstreamRestApiOptionsReadOnlyHttpMethod>, ClaimsPrincipal, CancellationToken)
  fullName: Microsoft.Identity.Abstractions.IDownstreamRestApi.GetForUserAsync<TInput,TOutput>(String, TInput, Action<DownstreamRestApiOptionsReadOnlyHttpMethod>, ClaimsPrincipal, CancellationToken)
  nameWithType: IDownstreamRestApi.GetForUserAsync<TInput,TOutput>(String, TInput, Action<DownstreamRestApiOptionsReadOnlyHttpMethod>, ClaimsPrincipal, CancellationToken)
  syntaxWithMoniker:
  - lang: csharp
    values:
    - value: 'public System.Threading.Tasks.Task<TOutput?> GetForUserAsync<TInput,TOutput> (string? serviceName, TInput input, Action<Microsoft.Identity.Abstractions.DownstreamRestApiOptionsReadOnlyHttpMethod>? downstreamRestApiOptionsOverride = default, System.Security.Claims.ClaimsPrincipal? user = default, System.Threading.CancellationToken cancellationToken = default) where TOutput : class;'
  - lang: fsharp
    values:
    - value: "abstract member GetForUserAsync : string * 'Input * Action<Microsoft.Identity.Abstractions.DownstreamRestApiOptionsReadOnlyHttpMethod> * System.Security.Claims.ClaimsPrincipal * System.Threading.CancellationToken -> System.Threading.Tasks.Task<'Output (requires 'Output : null)> (requires 'Output : null)"
  - lang: vb
    values:
    - value: Public Function GetForUserAsync(Of TInput, TOutput) (serviceName As String, input As TInput, Optional downstreamRestApiOptionsOverride As Action(Of DownstreamRestApiOptionsReadOnlyHttpMethod) = Nothing, Optional user As ClaimsPrincipal = Nothing, Optional cancellationToken As CancellationToken = Nothing) As Task(Of TOutput)
  monikers:
  - msal-model-dotnet-latest
  summary: >-
    Calls, using <xref data-throw-if-not-resolved="true" uid="System.Net.Http.HttpMethod.Get"></xref>, a downstream REST API with some input data and returning data.

    By default the input data is serialized in JSON and the returned data is deserialized from JSON but you can provide your own serializer and your own deserializer in the action

    you pass-in through the <code data-dev-comment-type="paramref">downstreamRestApiOptionsOverride</code> parameter.
  examples: >-
    ```

    var result = await _downstreamRestApi.GetForUserAsync<MyItem, IEnumerable<MyItem>>(
           "MyService",
           myItem,
           options =>
           {
             options.RelativePath = $"api/todolist/{myItem.Id}";
           });
    ```
  metadata: {}
- typeParameters:
  - description: Generic output type.
    name: TOutput
  returnsWithMoniker:
    type:
    - value: <xref href="System.Threading.Tasks.Task`1?alt=System.Threading.Tasks.Task&text=Task" data-throw-if-not-resolved="True"/>&lt;TOutput&gt;
    description: a Task
  parameters:
  - namesWithMoniker:
    - value: serviceName
    description: >-
      Name of the service describing the downstream REST API. There can
                  be several configuration named sections mapped to a <xref data-throw-if-not-resolved="true" uid="Microsoft.Identity.Abstractions.DownstreamRestApiOptions"></xref>,
                  each for one downstream REST API. You can pass-in null, but in that case <code data-dev-comment-type="paramref">downstreamRestApiOptionsOverride</code>
                  needs to be set.
    type: <xref href="System.String?alt=System.String&text=String" data-throw-if-not-resolved="True"/>
  - namesWithMoniker:
    - value: downstreamRestApiOptionsOverride
    description: >-
      [Optional] Overrides the options proposed in the configuration described
                  by <code data-dev-comment-type="paramref">serviceName</code>.
    type: <xref href="System.Action`1?alt=System.Action&text=Action" data-throw-if-not-resolved="True"/>&lt;<xref href="Microsoft.Identity.Abstractions.DownstreamRestApiOptionsReadOnlyHttpMethod?alt=Microsoft.Identity.Abstractions.DownstreamRestApiOptionsReadOnlyHttpMethod&text=DownstreamRestApiOptionsReadOnlyHttpMethod" data-throw-if-not-resolved="True"/>&gt;
  - namesWithMoniker:
    - value: user
    description: >-
      [Optional] Claims representing a user. This is useful in platforms like Blazor
                  or Azure Signal R, where the HttpContext is not available. In other platforms, the library
                  will find the user from the HttpContext.
    type: <xref href="System.Security.Claims.ClaimsPrincipal?alt=System.Security.Claims.ClaimsPrincipal&text=ClaimsPrincipal" data-throw-if-not-resolved="True"/>
  - namesWithMoniker:
    - value: cancellationToken
    type: <xref href="System.Threading.CancellationToken?alt=System.Threading.CancellationToken&text=CancellationToken" data-throw-if-not-resolved="True"/>
  type: method
  uid: Microsoft.Identity.Abstractions.IDownstreamRestApi.GetForUserAsync``1(System.String,System.Action{Microsoft.Identity.Abstractions.DownstreamRestApiOptionsReadOnlyHttpMethod},System.Security.Claims.ClaimsPrincipal,System.Threading.CancellationToken)
  commentId: M:Microsoft.Identity.Abstractions.IDownstreamRestApi.GetForUserAsync``1(System.String,System.Action{Microsoft.Identity.Abstractions.DownstreamRestApiOptionsReadOnlyHttpMethod},System.Security.Claims.ClaimsPrincipal,System.Threading.CancellationToken)
  name: GetForUserAsync<TOutput>(String, Action<DownstreamRestApiOptionsReadOnlyHttpMethod>, ClaimsPrincipal, CancellationToken)
  fullName: Microsoft.Identity.Abstractions.IDownstreamRestApi.GetForUserAsync<TOutput>(String, Action<DownstreamRestApiOptionsReadOnlyHttpMethod>, ClaimsPrincipal, CancellationToken)
  nameWithType: IDownstreamRestApi.GetForUserAsync<TOutput>(String, Action<DownstreamRestApiOptionsReadOnlyHttpMethod>, ClaimsPrincipal, CancellationToken)
  syntaxWithMoniker:
  - lang: csharp
    values:
    - value: 'public System.Threading.Tasks.Task<TOutput?> GetForUserAsync<TOutput> (string? serviceName, Action<Microsoft.Identity.Abstractions.DownstreamRestApiOptionsReadOnlyHttpMethod>? downstreamRestApiOptionsOverride = default, System.Security.Claims.ClaimsPrincipal? user = default, System.Threading.CancellationToken cancellationToken = default) where TOutput : class;'
  - lang: fsharp
    values:
    - value: "abstract member GetForUserAsync : string * Action<Microsoft.Identity.Abstractions.DownstreamRestApiOptionsReadOnlyHttpMethod> * System.Security.Claims.ClaimsPrincipal * System.Threading.CancellationToken -> System.Threading.Tasks.Task<'Output (requires 'Output : null)> (requires 'Output : null)"
  - lang: vb
    values:
    - value: Public Function GetForUserAsync(Of TOutput As Class) (serviceName As String, Optional downstreamRestApiOptionsOverride As Action(Of DownstreamRestApiOptionsReadOnlyHttpMethod) = Nothing, Optional user As ClaimsPrincipal = Nothing, Optional cancellationToken As CancellationToken = Nothing) As Task(Of TOutput)
  monikers:
  - msal-model-dotnet-latest
  summary: >-
    Calls, using <xref data-throw-if-not-resolved="true" uid="System.Net.Http.HttpMethod.Get"></xref>, a downstream REST API returning data.

    By default the returned data is deserialized from JSON but you can provide your own deserializer in the action

    you pass-in through the <code data-dev-comment-type="paramref">downstreamRestApiOptionsOverride</code> parameter.
  examples: >-
    ```

    var result = await _downstreamRestApi.GetForUserAsync<IEnumerable<MyItem>>(
           "MyService",
           options =>
           {
             options.RelativePath = $"api/todolist";
           });
    ```
  metadata: {}
uid: Microsoft.Identity.Abstractions.IDownstreamRestApi.GetForUserAsync*
commentId: Overload:Microsoft.Identity.Abstractions.IDownstreamRestApi.GetForUserAsync
namespace: Microsoft.Identity.Abstractions
name: GetForUserAsync
fullName: Microsoft.Identity.Abstractions.IDownstreamRestApi.GetForUserAsync
nameWithType: IDownstreamRestApi.GetForUserAsync
assembliesWithMoniker:
- value: Microsoft.Identity.Abstractions.dll
packagesWithMoniker:
- value: Microsoft.Identity.Abstractions v1.1.0
devLangs:
- csharp
- vb
- fsharp
monikers:
- msal-model-dotnet-latest
metadata:
  api_name:
  - Microsoft.Identity.Abstractions.IDownstreamRestApi.GetForUserAsync
  api_location:
  - Microsoft.Identity.Abstractions.dll
  topic_type:
  - apiref
  api_type:
  - Assembly
  f1_keywords:
  - Microsoft.Identity.Abstractions.IDownstreamRestApi.GetForUserAsync
  - Microsoft::Identity::Abstractions::IDownstreamRestApi::GetForUserAsync
  - GetForUserAsync
  - IDownstreamRestApi.GetForUserAsync
  - IDownstreamRestApi::GetForUserAsync
  - Microsoft.Identity.Abstractions.IDownstreamRestApi.GetForUserAsync``2
  - Microsoft::Identity::Abstractions::IDownstreamRestApi::GetForUserAsync``2
  - GetForUserAsync``2
  - IDownstreamRestApi.GetForUserAsync``2
  - IDownstreamRestApi::GetForUserAsync``2
  - Microsoft.Identity.Abstractions.IDownstreamRestApi.GetForUserAsync``1
  - Microsoft::Identity::Abstractions::IDownstreamRestApi::GetForUserAsync``1
  - GetForUserAsync``1
  - IDownstreamRestApi.GetForUserAsync``1
  - IDownstreamRestApi::GetForUserAsync``1
  helpviewer_keywords:
  - IDownstreamRestApi.GetForUserAsync method [.NET]
  - GetForUserAsync method [.NET], interface IDownstreamRestApi
  - IDownstreamRestApi.GetForUserAsync<TInput,TOutput>(String, TInput, Action<DownstreamRestApiOptionsReadOnlyHttpMethod>, ClaimsPrincipal, CancellationToken) method [.NET]
  - GetForUserAsync<TInput,TOutput>(String, TInput, Action<DownstreamRestApiOptionsReadOnlyHttpMethod>, ClaimsPrincipal, CancellationToken) method [.NET], interface IDownstreamRestApi
  - IDownstreamRestApi.GetForUserAsync<TOutput>(String, Action<DownstreamRestApiOptionsReadOnlyHttpMethod>, ClaimsPrincipal, CancellationToken) method [.NET]
  - GetForUserAsync<TOutput>(String, Action<DownstreamRestApiOptionsReadOnlyHttpMethod>, ClaimsPrincipal, CancellationToken) method [.NET], interface IDownstreamRestApi
  monikers:
  - msal-model-dotnet-latest
